!function(e,d){var r="liveEditor";e.PEP=e.PEP||{};var o=e.PEP,t=!1;function i(){var e,t=d("#liveEditorName").text().trim(),i=o.CodeEditor.GetContent(r);t&&i&&(window.PEP.showLoader(),e=d("#liveEditorId").text().trim(),d.ajax({url:"/live-editor",data:{codeTitle:t,savedCode:i,editorCodeId:e||""},dataType:"json",method:e?"PUT":"POST",headers:{"X-Requested-With":"XMLHttpRequest"},success:function(e){window.PEP.hideLoader(),alert(e.message),d("#liveEditorName").text(t)},error:function(e){e.responseJSON&&e.responseJSON.message&&alert(JSON.parse(e.responseJSON.message)),window.PEP.handleException(e)}}))}function n(){window.PEP.showLoader(),d.ajax({url:"/live-editor",dataType:"json",method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"},success:function(e){window.PEP.hideLoader(),d("#liveEditorNotesList").empty(),d("#liveEditorNotesList").append(e.data),d(".setLiveEditorNote").on("click",s),d(".deleteEditorCodeById").on("click",a)},error:function(e){window.PEP.handleException(e)}})}function a(){var t;!confirm("Are you sure, you want to delete that Code?")||(t=d(this).attr("id"))&&(window.PEP.showLoader(),d.ajax({url:"/live-editor/"+t,dataType:"json",method:"Delete",headers:{"X-Requested-With":"XMLHttpRequest"},success:function(e){d(".liveEditorCodeRow"+t).remove(),o.InitlizeLiveEditor(),window.PEP.hideLoader()},error:function(e){window.PEP.handleException(e)}}))}function s(){var e,t,i,o=d(this).attr("id");o&&(e=d(".liveEditorId"+o).text(),t=d(".liveEditorCodeTitle"+o).text(),i=d(".savedCode"+o).text(),e&&t&&i?(editors[r].setValue(i,-1),d("#liveEditorName").text(t),d("#liveEditorId").text(o)):d("#liveEditorName").text(""))}$liveEditorName=d("#liveEditorName"),o.InitlizeLiveEditor=function(){t||(o.CodeEditor.Init(r,{saveInSessionStorage:!0}),$liveEditorName.text("New File"),d("#saveLiveEditor").on("click",i),d(".deleteEditorCodeById").on("click",a),d("#getAllLiveEditorCode").on("click",n),t=!0)}}(window,window.jQuery);