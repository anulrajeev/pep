"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6349],{76349:function(e,r,t){t.r(r),t.d(r,{default:function(){return J}});var o=t(85893),n=t(43238),i=t(92684),l=t(15193),a=t(97375),c=t(24128),s=t(68527),u=t(7657),d=t(4612),m=t(84304),f=t(68133),p=t(68909),h=t(86893),x=t(67294),g=t(4905),b=t(51649),v=t(60155),j=t(79352),y=t(92898),C=t(98708),k=t(90269),S=t(88767),w=t(46337),D=t(2804),I=t(29092),O=t(48692),z=t(11391),E=t(22842);function P(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function _(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return P(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return P(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=function(e){var r=e.isOpen,t=e.onClose,l=e.poll,a=(0,x.useState)(""),u=a[0],d=a[1],m=(0,x.useState)(["",""]),f=m[0],h=m[1],v=(0,x.useState)("1"),j=v[0],y=v[1],C=(0,n.pm)(),k=(0,i.Sx)(p.j8);(0,x.useEffect)((function(){void 0!==l?(d(l.question),y(l.duration),h(l.options)):(h(["",""]),d(""),y("1"))}),[l]);var S=function(){void 0==l&&(h(["",""]),d("")),t(void 0)},w=function(){var e=function(){for(var e=!1,r=!1,t=0;t<f.length&&!(e=0==f[t].trim().length);t++);for(var o=0;o<f.length&&!(r=f[o].trim().length>=31);o++);if(r)return-2;if(0==u.trim().length||e)return!1;for(var n=0;n<f.length;n++)for(var i=n+1;i<f.length;i++)if(f[n].trim()==f[i].trim())return-1;return!0}();return e?-1===e?C({description:"Two option cannot be same",duration:9e3}):u.trim().length>=201?C({description:"Poll Question word limit exceed",duration:9e3}):-2==e?C({description:"Options word limit exceed",duration:9e3}):(t({options:f,question:u,duration:j}),h(["",""]),y("1"),void d("")):C({description:" Empty Poll cannot be created",duration:3e3})};return(0,o.jsxs)(c.u_,{isOpen:r,onClose:S,motionPreset:"scale",size:k,children:[(0,o.jsx)(c.ZA,{}),(0,o.jsx)(c.hz,{pb:5,bgColor:"brand.600",children:(0,o.jsxs)(c.fe,{children:[(0,o.jsxs)(s.kC,{flexDirection:"column",children:[(0,o.jsx)(s.xv,{as:"h2",pb:"2",textAlign:"center",children:"Create a Poll"}),(0,o.jsxs)(s.kC,{flexDirection:"column",h:["full","full","30rem","30rem"],overflow:"auto",mb:"1.5rem",children:[(0,o.jsxs)(s.Kq,{spacing:2,mt:"1rem",px:"0.5rem",children:[(0,o.jsx)(s.xv,{fontSize:"0.75rem",fontWeight:"600",children:"Poll heading"}),(0,o.jsx)(E.oi,{color:"text.primary",backgroundColor:"background.paper",mt:"0.5rem",placeholder:"What's on your mind?",_placeholder:{color:"text.placeholder"},value:u,onChange:function(e){d(e.target.value)}}),(0,o.jsx)(s.kC,{flexDirection:"row-reverse",children:(0,o.jsxs)(s.xv,{color:u.length<=200?"text.placeholder":"warning.200",fontSize:"0.75rem",fontWeight:"600",marginRight:"0.9375rem",children:[u.length,"/200"]})}),f.map((function(e,r){return(0,o.jsxs)(s.Kq,{spacing:1,children:[(0,o.jsxs)(s.xv,{fontSize:"0.75rem",fontWeight:"600",children:["Option ",r+1]}),(0,o.jsx)(E.oi,{color:"text.primary",backgroundColor:"background.paper",placeholder:"Option ".concat(r+1),_placeholder:{color:"text.placeholder"},value:e,onChange:function(e){!function(e,r){h((function(t){return t.map((function(t,o){return o==r?e:t}))}))}(e.target.value,r)}}),(0,o.jsxs)(s.kC,{justifyContent:"flex-end",flexDirection:"row",children:[r+1>2?(0,o.jsx)(s.kC,{children:(0,o.jsx)(s.xv,{color:"warning.200",fontSize:"0.75rem",fontWeight:"600",onClick:function(){!function(e){h((function(r){return r.filter((function(r,t){return t!=e}))}))}(r)},style:{cursor:"pointer",marginRight:"1.9375rem"},children:"Remove"})}):(0,o.jsx)(o.Fragment,{}),(0,o.jsx)(s.kC,{justifyContent:"flex-end",children:(0,o.jsxs)(s.xv,{color:e.length<=30?"text.placeholder":"warning.200",fontSize:"0.75rem",fontWeight:"600",w:"3rem",children:[e.length,"/30"]})})]})]},r)}))]}),(0,o.jsx)(s.kC,{justifyContent:"center",children:f.length<4&&(0,o.jsx)(s.xu,{cursor:"pointer",children:(0,o.jsx)(b.f8n,{color:"gray",onClick:function(){h((function(e){return _(e).concat([""])}))},fontSize:"3rem"})})}),(0,o.jsxs)(s.kC,{flexDirection:"column",px:"0.5rem",children:[(0,o.jsx)(s.xv,{fontSize:"0.75rem",fontWeight:"600",mb:"0.5rem",children:"Duration"}),(0,o.jsxs)(z.Ph,{height:"3.125rem",cursor:"pointer",color:"text.primary",backgroundColor:"background.paper",borderColor:"background.white",focusBorderColor:"button.nonActive",onChange:function(e){y(e.target.value)},children:[(0,o.jsx)("option",{value:1,selected:!0,style:{color:"gray"},children:"1 Day"}),(0,o.jsx)("option",{value:3,style:{color:"gray"},children:"3 Day"}),(0,o.jsx)("option",{value:5,style:{color:"gray"},children:"5 Day"}),(0,o.jsx)("option",{value:7,style:{color:"gray"},children:"1 Week"}),(0,o.jsx)("option",{value:14,style:{color:"gray"},children:"2 Week"})]})]})]})]}),(0,o.jsxs)(s.kC,{justifyContent:"flex-end",gridGap:"3",mt:"0.625rem",boxSizing:"border-box",children:[(0,o.jsx)(g.Z,{borderColor:"active.primary",_hover:{borderWidth:"2px",bg:"brand.600"},color:"text.primary",bgColor:"background.paper",_focus:{outline:"none"},height:"3rem",boxSizing:"border-box",onClick:S,_active:{borderColor:"active.primary",borderWidth:"2px",borderStyle:"solid"},w:"6rem",children:"Cancel"}),(0,o.jsx)(g.Z,{boxSizing:"border-box",borderColor:"active.primary",_hover:{borderWidth:"2px",bg:"brand.600"},color:"text.primary",bgColor:"background.paper",_focus:{outline:"none"},height:"3rem",onClick:function(){w()},_active:{borderColor:"active.primary",borderWidth:"2px",borderStyle:"solid"},w:"6rem",children:"Done"})]})]})})]})},R=t(78093),A=t(22490),W=function(e){var r=e.poll,t=e.setPoll,n=(e.onClose,e.setPollModal),i=(0,x.useState)(r),l=i[0],a=i[1];return(0,x.useEffect)((function(){a(r)}),[r]),(0,o.jsx)(s.kC,{w:"25.625rem",bgColor:"brand.600",flexDirection:"column",borderRadius:"0.625rem",margin:{base:"0.75rem",md:"0 auto"},children:(0,o.jsxs)(s.kC,{justifyContent:"center",flexDirection:"column",p:"1rem",children:[(0,o.jsxs)(s.kC,{justifyContent:"flex-end",children:[(0,o.jsx)(s.kC,{justifyContent:"center",alignItems:"center",_hover:{opacity:.5},style:{background:"black",borderRadius:"50%",cursor:"pointer",marginRight:"5px",height:"1.5rem",width:"1.5rem"},children:(0,o.jsx)(h.IYd,{color:"white",size:"0.8rem",onClick:function(){n(!0)}})}),(0,o.jsx)(s.kC,{justifyContent:"center",alignItems:"center",_hover:{opacity:.5},style:{background:"black",borderRadius:"50%",cursor:"pointer",height:"1.5rem",width:"1.5rem"},children:(0,o.jsx)(h.q5L,{size:"1rem",color:"white",onClick:function(){t(void 0)}})})]}),(0,o.jsx)(s.xv,{color:"text.primary",wordBreak:"break-all",as:"h4",mt:"0.5rem",children:l.question}),l.options.map((function(e,r){return(0,o.jsx)(E.oi,{value:e,mt:"0.5rem",color:"text.primary",backgroundColor:"button.nonActive",borderColor:"text.primary",fontSize:"1rem"},r)})),(0,o.jsxs)(s.xv,{fontSize:"12px",fontWeight:"600",mt:"0.5rem",children:[l.duration," - days"]})]})})},F=t(45561),M=t(37492),T=t(3397),q=t(51854),U=t(2893),B=t(28823),N=t(23324),V=t(26901);function H(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function X(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function L(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(r){X(e,r,t[r])}))}return e}function Y(e,r){if(null==e)return{};var t,o,n=function(e,r){if(null==e)return{};var t,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function K(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,n,i=[],l=!0,a=!1;try{for(t=t.call(e);!(l=(o=t.next()).done)&&(i.push(o.value),!r||i.length!==r);l=!0);}catch(c){a=!0,n=c}finally{try{l||null==t.return||t.return()}finally{if(a)throw n}}return i}}(e,r)||G(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||G(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,r){if(e){if("string"===typeof e)return H(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?H(e,r):void 0}}var J=function(e){var r,t,z=e.isOpen,E=e.onClose,P=e.startProgress,_=e.endProgress,H=e.setCreatePostOpen,X=e.discussionData,G=e.submitDiscussion,J=e.isDiscuss,Q=e.isComment,ee=(0,D.useRecoilValue)(I.ZP),re=(0,x.useState)(""),te=re[0],oe=re[1],ne=(0,x.useState)(""),ie=ne[0],le=ne[1],ae=K((0,D.useRecoilState)(O.H6),2)[1],ce=K((0,D.useRecoilState)(I.TI),1)[0].id,se=(0,x.useState)(!1),ue=se[0],de=se[1],me=(0,x.useState)([]),fe=me[0],pe=me[1],he=(0,x.useState)("image"),xe=he[0],ge=he[1],be=(0,S.useMutation)(w.eu),ve=(0,S.useMutation)(w.xF),je=(0,S.useMutation)(w.qb),ye=(0,x.useMemo)((function(){return(0,k.Ry)(fe,"all")}),[fe]),Ce=(0,x.useState)(!1),ke=Ce[0],Se=Ce[1],we=(0,x.useState)(),De=we[0],Ie=we[1],Oe=(0,x.useState)(!1),ze=Oe[0],Ee=Oe[1],Pe=(0,x.useRef)(null),_e=(0,x.useState)(!1),Ze=_e[0],Re=_e[1],Ae=(0,x.useState)(!1),We=Ae[0],Fe=Ae[1],Me=(0,x.useState)(""),Te=Me[0],qe=Me[1],Ue=(0,x.useState)("java"),Be=Ue[0],Ne=Ue[1],Ve=(0,x.useState)(!1),He=Ve[0],Xe=Ve[1],Le=(0,n.pm)(),Ye=(0,i.Sx)(p.j8),Ke=(0,x.useState)(!1),$e=Ke[0],Ge=Ke[1],Je=(0,x.useState)(!1),Qe=Je[0],er=Je[1],rr=(0,x.useState)(""),tr=rr[0],or=rr[1],nr=(0,x.useState)({ogTitle:"",ogUrl:"",ogDescription:"",ogImage:"",ogVideo:""}),ir=nr[0],lr=nr[1],ar=(0,x.useState)(""),cr=ar[0],sr=ar[1],ur=((0,x.useRef)(null),(0,x.useState)(!0)),dr=ur[0],mr=ur[1],fr=(0,x.useState)([]),pr=fr[0],hr=fr[1],xr=(0,x.useState)(!0),gr=xr[0],br=xr[1];(0,x.useEffect)((function(){J?(Boolean(te)||Q)&&Boolean(ie)?mr(!1):mr(!0):void 0!==De||Te||fe.length>0||ie?mr(!1):mr(!0)}),[Te,De,fe,te,ie]);var vr=function(e){var r=e.label,t=e.icon,n=Y(e,["label","icon"]);return(0,o.jsx)(l.hU,L({color:"text.primary",borderRadius:"100%",ml:["0rem","0rem ","0rem","0.5rem"],bgColor:"background.paper","aria-label":r,icon:t,_hover:{bg:"active.primary",color:"text.buttonSave"},_focus:{outline:"none"}},n))},jr=function(e){ge(e),de(!0)},yr=function(e){var r,t,o;if(o=De?{text:ie,media:e,poll:{description:De.question,options:De.options,duration:De.duration},tags:(0,k.Zs)("#",ie,"tag"),mentions:(0,k.Zs)("@",ie,"tag"),batchIds:pr,showRole:gr}:{text:ie,media:e,tags:(0,k.Zs)("#",ie,"tag"),mentions:(0,k.Zs)("@",ie,"tag"),batchIds:pr,showRole:gr},Te.trim().length>0&&(cr.trim().length>0?o.code={sourceCode:Te,languageId:T.Dz[Be],input:cr}:o.code={sourceCode:Te,languageId:T.Dz[Be]}),((null===ir||void 0===ir||null===(r=ir.ogTitle)||void 0===r?void 0:r.length)>0||(null===ir||void 0===ir||null===(t=ir.ogDescription)||void 0===t?void 0:t.length)>0)&&(o.meta=(0,k.ZF)(ir)),J){if(Q)return console.log("create Comment",ie),void(G&&G(!1,(0,k.ZF)(o)));if(console.log("create Comment 2"),$e){var n=te+"\n"+ie;je.mutate((0,k.ZF)(L({text:n},(0,k.ZF)(o))),{onSuccess:function(e){pr.includes(ce)&&ae(e),_()},onError:function(){return _()}})}o.title=te,o.contentId=null===X||void 0===X?void 0:X.contentId,o.type=null===X||void 0===X?void 0:X.type,G&&G(Qe,o)}else je.mutate((0,k.ZF)(o),{onSuccess:function(e){pr.includes(ce)&&ae(e),_()},onError:function(){return _()}})},Cr=function(e){for(var r=function(r){var n=new FormData;Object.keys(e[r].fields).forEach((function(t){n.append(t,e[r].fields[t])})),n.append("file",fe[r]),t.push({url:e[r].url,formData:n}),o.push({url:e[r].url+"/"+e[r].fields.key,type:"application"===fe[r].type.split("/")[0]?"file":fe[r].type.split("/")[0],filename:fe[r].name})},t=[],o=[],n=0;n<e.length;n++)r(n);ve.mutate(t,{onSuccess:function(){return yr(o)},onError:console.error}),E()},kr=function(){pe([]),le(""),Ie(void 0),qe(""),Fe(!1),E(),Ge(!1),er(!1),oe(""),hr([ce]),br(!0)},Sr=function(e){e&&Ie(e),Se(!1)};console.log(fe," i m in media");(0,a.O3)({ref:Pe,handler:function(){Ee(!1)}});var wr=(0,S.useMutation)(U.ol);(0,x.useEffect)((function(){var e=q.sE(ie).filter((function(e){return"url"===e.type}));e.length>0&&e[0].href!=tr?e[0].href!=tr&&or(e[0].href):0==e.length&&or("")}),[ie]),(0,x.useEffect)((function(){tr.trim().length>0?wr.mutate({url:tr},{onSuccess:function(e){var r=e.data;r.ogUrl.includes("https://leetcode.com")&&(r.ogImage="https://leetcode.com"+r.ogImage),lr(r)},onError:console.error}):lr({ogTitle:"",ogUrl:"",ogDescription:"",ogImage:""})}),[tr]),(0,x.useEffect)((function(){console.log(ir)}),[ir]),(0,x.useEffect)((function(){hr([ce])}),[ce]);console.log(Q,J);(0,D.useRecoilValue)(V.Oj);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(y.Z,{allMedia:fe,isOpen:ue,onClose:function(e){0!==e.length&&pe($(fe).concat($(e))),de(!1)},type:xe}),(0,o.jsx)(Z,{isOpen:ke,onClose:Sr,poll:De}),(0,o.jsx)(F.default,{code:Te,globalEditor:!1,setCode:qe,language:Be,setLanguage:Ne,isEditableMode:He,setCodeEditorModal:Re,isOpen:Ze,handleAddClick:function(){Fe(!0),Re(!1),H(!0)},inputVal:cr,setInputVal:sr}),(0,o.jsxs)(c.u_,{isOpen:z,onClose:kr,size:Ye,children:[(0,o.jsx)(c.ZA,{}),(0,o.jsxs)(c.hz,{overflowY:"auto",maxHeight:"500px",bgColor:"background.paper",children:[(0,o.jsx)(c.xB,{color:"text.primary",borderBottomWidth:"1px",borderColor:"text.placeholder",children:J||Q?(0,o.jsxs)(s.kC,{justify:"start",align:"center",children:[(0,o.jsx)(u.qE,{name:null===ee||void 0===ee?void 0:ee.fullName,src:null===ee||void 0===ee?void 0:ee.profileUrl}),(0,o.jsx)(s.xv,{ml:"1rem",children:null===ee||void 0===ee?void 0:ee.fullName})]}):"Create a Post"}),(0,o.jsx)(c.ol,{height:"2rem",width:"2rem",borderRadius:"full",mt:"0.5rem",borderColor:"active.primary",color:"icon.primary",bg:"icon.hover",_hover:{borderWidth:"1px"},_focus:{outline:"non e"}}),(0,o.jsxs)(c.fe,{overflow:"auto",p:0,children:[(0,o.jsxs)(s.kC,{overflowY:"scroll",h:"100%",maxHeight:"fit-content",pos:"relative",flexDirection:"column",children:[J&&!Q?(0,o.jsx)(s.kC,{justify:"center",p:"1rem",children:(0,o.jsx)(d.II,{mt:"0.5rem",placeholder:" Doubt Title",_placeholder:{color:"text.placeholder"},borderWidth:"0.5px",borderRadius:"0.375rem",h:"4rem",borderColor:"text.placeholder",color:"text.primary",_active:{borderColor:"active.primary"},_focus:{borderColor:"active.primary"},_hover:{borderColor:"active.primary"},value:te,onChange:function(e){oe(e.target.value)}})}):Q?(0,o.jsx)(o.Fragment,{}):(0,o.jsxs)(s.kC,{alignItems:"center",justifyContent:"space-between",pos:"sticky",zIndex:4e3,bg:"background.paper",top:"0",pr:"2rem",pt:"1rem",children:[(0,o.jsxs)(s.kC,{alignItems:"center",children:[(0,o.jsx)(u.qE,{name:null===ee||void 0===ee?void 0:ee.fullName,src:null===ee||void 0===ee?void 0:ee.profileUrl,ml:"1.5rem"}),(0,o.jsx)(s.xv,{ml:"1rem",children:null===ee||void 0===ee?void 0:ee.fullName})]}),!J&&1!==(null===ee||void 0===ee?void 0:ee.role)&&(0,o.jsxs)(s.kC,{alignItems:"center",children:[gr&&(0,o.jsx)(N.P,{role:null===ee||void 0===ee?void 0:ee.role}),(0,o.jsx)(m.r,{ml:"0.5rem",style:{backgroundColor:"gray",borderRadius:"15px",height:"16px"},size:"sm",colorScheme:"purple",isChecked:gr,onChange:function(){br(!gr)}})]})]}),(0,o.jsx)(s.kC,{justifyContent:"center",w:"100%",h:"100%",minH:"200px",maxH:["380px","380px","200px","200px"],flex:1,overflow:"scroll",m:"1rem 0rem",border:"white",borderWidth:"1px",color:"text.primary",children:(0,o.jsx)(R.Z,{className:"mentionInput",placeholder:J?"Describe your doubt":"What's on your mind ?",a11ySuggestionsListLabel:"Type anything, use the @ symbol to tag other users.",value:ie,setValue:le,autoFocus:!0,color:"text.primary",children:(0,o.jsx)(o.Fragment,{})})}),(0,o.jsx)(B.default,{ogCardData:ir,isPreview:!0,handleDeleteOgCard:function(){lr({ogTitle:"",ogUrl:"",ogDescription:"",ogImage:"",ogVideo:""}),or("")}}),(0,o.jsx)(s.kC,{children:De&&(0,o.jsx)(W,{poll:De,setPoll:Ie,onClose:Sr,setPollModal:Se})}),0!==fe.length?(0,o.jsx)(C.Z,{handleMediaDelete:function(e){pe(fe.filter((function(r,t){return e!==t})))},media:ye}):(0,o.jsx)(o.Fragment,{})]}),(0,o.jsx)(s.kC,{pos:"relative",flexDirection:"column",mt:"0.5rem",children:We?(0,o.jsx)(M.default,{language:Be,code:Te,isPreview:!0,input:cr,DeleteCode:function(){qe(""),Ne("java"),Fe(!1)},EditCode:function(){Xe(!0),Re(!0)}}):(0,o.jsx)(o.Fragment,{})}),!J&&3===(null===ee||void 0===ee?void 0:ee.role)&&(0,o.jsxs)(s.kC,{p:"1.5rem",flexDir:"column",children:[(0,o.jsxs)(s.kC,{justifyContent:"space-between",w:"100%",mb:"1rem",children:[(0,o.jsx)(s.xv,{children:"Select batches"}),(0,o.jsx)(f.XZ,{color:"text.primary",borderColor:"text.placeholder",colorScheme:"purple",isChecked:pr.length-1===(null===ee||void 0===ee||null===(r=ee.batches)||void 0===r?void 0:r.length),onChange:function(){var e,r;pr.length-1===(null===ee||void 0===ee||null===(e=ee.batches)||void 0===e?void 0:e.length)?hr([]):hr(ee?$(null===(r=ee.batches)||void 0===r?void 0:r.map((function(e){return e.id}))).concat(["0"]):[])},children:"Select all"})]}),(0,o.jsxs)(s.kC,{w:"100%",px:"0.625rem",py:"0.75rem",flexWrap:"wrap",border:"1px solid #383748",borderRadius:"6px",children:[(0,o.jsx)(s.kC,{p:"0.5rem",my:"0.25rem",mx:"0.375rem",bgColor:"brand.600",borderRadius:"4px",children:(0,o.jsx)(f.XZ,{color:"text.primary",borderColor:"text.placeholder",colorScheme:"purple",isChecked:pr.includes("0"),onChange:function(){pr.includes("0")?hr((function(e){return e.filter((function(e){return"0"!==e}))})):hr((function(e){return $(e).concat(["0"])}))},children:"Public"})}),null===ee||void 0===ee||null===(t=ee.batches)||void 0===t?void 0:t.map((function(e){var r=e.id,t=e.name;return(0,o.jsx)(s.kC,{p:"0.5rem",my:"0.25rem",mx:"0.375rem",bgColor:"brand.600",borderRadius:"4px",children:(0,o.jsx)(f.XZ,{color:"text.primary",borderColor:"text.placeholder",colorScheme:"purple",isChecked:pr.includes(r),onChange:function(){console.log({batchId:ce},{selectedBatches:pr}),pr.includes(r)?hr((function(e){return e.filter((function(e){return e!==r}))})):hr((function(e){return $(e).concat([r])}))},children:t})},r)}))]})]})]}),(0,o.jsxs)(c.mz,{p:0,flexDir:"column",children:[J&&!Q?(0,o.jsxs)(s.kC,{justify:"flex-end",alignItems:"center",pl:"2rem",pr:"2rem",children:[(0,o.jsx)(f.XZ,{borderColor:"text.primary",color:"text.primary",pr:"1rem",isChecked:$e,onChange:function(){Ge(!$e)},children:(0,o.jsx)(s.xv,{variant:"b2",children:"Post on my feed"})}),"0"!==ce&&(0,o.jsx)(f.XZ,{color:"text.primary",borderColor:"text.primary",size:"md",isChecked:Qe,onChange:function(){er(!Qe)},children:(0,o.jsx)(s.xv,{variant:"b2",children:"Post on Doubt support"})})]}):(0,o.jsx)(o.Fragment,{}),(0,o.jsxs)(s.kC,{alignItems:"center",flexDirection:"row",justifyContent:"space-between",width:"100%",children:[(0,o.jsxs)(s.kC,{ml:"1rem",flexDirection:"row",justifyContent:"space-between",children:[(0,o.jsx)(vr,{label:"upload image",disabled:!1,icon:(0,o.jsx)(b.qiC,{onClick:function(){return jr("image")},size:"1.5rem"})}),(0,o.jsx)(vr,{disabled:!1,label:"upload video",icon:(0,o.jsx)(b.H6Z,{onClick:function(){return jr("video")},size:"1.5rem"})}),(0,o.jsx)(vr,{disabled:!!We,label:"add code",icon:(0,o.jsx)(v.CpF,{onClick:function(){0==Te.trim().length&&qe(F.CodeSnippet.java),Fe(!1),Re(!0)},size:"1.5rem"})}),(0,o.jsx)(vr,{disabled:!1,label:"upload file",icon:(0,o.jsx)(b.sUm,{onClick:function(){return jr("file")},size:"1.5rem"})}),J||Q?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)(vr,{disabled:void 0!==De,onClick:function(){void 0==De&&Se(!0)},label:"add poll",icon:(0,o.jsx)(j.Jit,{size:"1.5rem"})}),(0,o.jsxs)(s.kC,{ref:Pe,pos:"relative",children:[(0,o.jsx)(A.Z,{showEmoji:ze,addEmoji:function(e){var r=e.native;le(ie+r)},style:{position:"absolute",bottom:"2.5rem",right:"0.0625rem",zIndex:200}}),J||Q?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)(vr,{label:"Emoji",onClick:function(){return Ee(!ze)},icon:(0,o.jsx)(h.jMy,{size:24})})]})]}),(0,o.jsx)(g.Z,{disabled:dr,onClick:function(e){1===e.detail&&function(){if(0!==pr.length||J){P(),kr();var e=fe.map((function(e){return{type:J?"discussion":"post",mediaType:"application"===e.type.split("/")[0]?"file":e.type.split("/")[0],extension:e.type.split("/")[1]}}));e.length>0?be.mutate(e,{onSuccess:Cr,onError:function(){return _()}}):yr()}else Le({title:"Please select atleast 1 batch",status:"info",duration:3e3,isClosable:!0})}()},h:"3.125rem",w:"7.375rem",m:"1.5rem",borderColor:"active.primary",_hover:{borderWidth:"2px",opacity:"1"},opacity:"0.9",color:"text.primary",bgColor:"background.button",_focus:{outline:"none"},_active:{},children:"Post"})]})]})]})]})]})}}}]);