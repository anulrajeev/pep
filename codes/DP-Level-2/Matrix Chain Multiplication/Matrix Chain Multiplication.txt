#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
typedef vector<int> vi;
typedef vector<vi> vvi;
typedef vector<ll> vll;
typedef vector<vll> vvll;
typedef vector<bool> vb;
typedef vector<vb> vvb;
typedef vector<string> vs;
typedef vector<char> vc;
typedef vector<vc> vvc;
typedef pair<int, int> pii;

ll mod = 1000000009;

void _main();
int main(){

	_main();
	return 0;
}

int f(int A[], int start, int end)
{
	if(start+1==end)
		return 0;
	int res=INT_MAX;
	for(int i=start+1;i<end;i++)
		res=min(res, f(A,start,i)+f(A,i,end)+A[start]*A[i]*A[end]);
	return res;

}

int MCM(int A[], int n)
{
	vvi dp(n,vi(n, 0));

	for(int gap=2;gap<n;gap++)
		for(int i=0;i+gap<n;i++)
		{
			int j=i+gap;
			dp[i][j]=INT_MAX;
			for(int k=i+1;k<j;k++)
				dp[i][j]=min(dp[i][j], dp[i][k]+dp[k][j]+A[i]*A[k]*A[j]);
		}
	return dp[0][n-1];
}

void _main()
{
	int n;
	cin>>n;
	int A[n];
	for(int i=0;i<n;i++)
		cin>>A[i];
	// cout<<f(A,0,n-1);
	cout<<MCM(A,n);  	

}