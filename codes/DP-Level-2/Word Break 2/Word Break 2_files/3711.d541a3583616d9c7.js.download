"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3711],{13711:function(e,r,t){t.d(r,{K:function(){return q},Z:function(){return J}});var n=t(85893),o=t(68527),i=t(43238),a=t(58163),l=t(85230),u=t(30381),c=t.n(u),s=t(11163),d=t(67294),f=t(86893),h=t(2804),p=t(26901),m=t(37589),v=t(40077),y=t(41609),x=t.n(y),g=t(14293),b=t.n(g),j=t(15193),w=t(34651),S=t(55845),C=t(42298),k=t(88767),z=t(82511);function A(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function D(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function O(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){D(e,r,t[r])}))}return e}function E(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return A(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return A(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],P=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],F="dd/MM/yyyy",R={variant:"outline",borderColor:"transparent",_hover:{bgColor:"background.paper"},_focus:{boxShadow:0},_focusWithin:{bgColor:"active.primary"}},I=function(e){var r=e.calendars,t=e.getBackProps;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.zx,O({},t({calendars:r,offset:12}),R,{size:"sm",color:"text.primary",children:"<<"})),(0,n.jsx)(j.zx,O({},t({calendars:r}),R,{size:"sm",color:"text.primary",children:"<"}))]})},_=function(e){var r=e.calendars,t=e.getForwardProps;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.zx,O({},t({calendars:r}),{size:"sm"},R,{color:"text.primary",children:">"})),(0,n.jsx)(j.zx,O({},t({calendars:r,offset:12}),{size:"sm"},R,{color:"text.primary",children:">>"}))]})},W=function(e){var r=e.calendars,t=e.getDateProps,i=e.getBackProps,a=e.getForwardProps,l=(0,d.useState)(!0),u=(l[0],l[1],(0,d.useState)(c()().subtract(1,"month")||"")),s=u[0],f=(u[1],(0,d.useState)(c()().add(1,"month")||"")),p=f[0],v=(f[1],E((0,h.useRecoilState)(m.z),2)),y=(v[0],v[1]),g=(0,d.useState)([]),b=g[0],S=g[1];if(x()(r))return null;var C=(0,k.useQuery)(["GetCalenderEvent",{startDate:s,endDate:p}],z.O,{enabled:!1,onSuccess:function(e){console.log({Calender:e});var r=e.map((function(e){return O({},e,{start:c()(e.start),end:c()(e.end)})}));S(r||[])},onError:console.error}),A=function(e){var r=[];b.forEach((function(t){c()(t.start).isSame(c()(e),"date")?r.push(t):console.log(c()(t.start).isSame(c()(e),"date"))})),y(r)};return(0,d.useEffect)((function(){C.refetch()}),[]),(0,d.useEffect)((function(){A(c()())}),[b]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o.xu,{bgColor:"brand.600",color:"text.primary",padding:"1rem",width:"full",borderRadius:"6px",children:(0,n.jsx)(o.Ug,{spacing:6,width:"full",alignItems:"baseline",children:r.map((function(e){return(0,n.jsxs)(o.gC,{width:"full",children:[(0,n.jsxs)(o.Ug,{children:[(0,n.jsx)(I,{calendars:r,getBackProps:i}),(0,n.jsxs)(o.X6,{size:"xs",textAlign:"center",children:[M[e.month]," ",e.year]}),(0,n.jsx)(_,{calendars:r,getForwardProps:a})]}),(0,n.jsx)(o.iz,{bg:"text.placeholder"}),(0,n.jsxs)(o.MI,{width:"full",columns:7,spacing:1,textAlign:"center",children:[P.map((function(r){return(0,n.jsx)(o.xu,{children:(0,n.jsx)(o.xv,{fontSize:"xs",fontWeight:"semibold",children:r})},"".concat(e.month).concat(e.year).concat(r))})),e.weeks.map((function(r,o){return r.map((function(r,i){var a=r.date,l=r.today,u=r.prevMonth,s=r.nextMonth,f=r.selected,h="".concat(e.month).concat(e.year).concat(o).concat(i),p=u||s,m=function(e){for(var r=!1,t=0;t<b.length;t++)if(c()(b[t].start).isSame(c()(e),"date")){r=!0;break}return r}(a);return(0,d.createElement)(j.zx,O({},t({dateObj:r,disabled:p}),{key:h,size:"xs"},function(){var e={bgColor:"background.paper",color:"text.primary",variant:"outline",borderColor:"transparent",_hover:{bgColor:"background.paper"},_focus:{boxShadow:0},_focusWithin:{bgColor:"active.primary"}};return l&&(e.borderColor="active.primary"),f&&(e.bgColor="indicator.primary"),e}(),{onClick:function(){console.log(a),A(a)},pos:"relative",children:[a.getDate(),m&&(0,n.jsx)(w.Ee,{pos:"absolute",src:"/assets/community/activedot.svg",h:"6px",w:"6px",top:.5,right:.5,alt:"picture"})]}))}))}))]})]},"".concat(e.month).concat(e.year))}))})})})},T=function(e){e.isMenu;var r=e.value,t=(e.disabled,e.onChange),o=(e.placeholder,e.validationMessages,e.validations,d.useRef(null),E(d.useState(r?C.Z(r,F):""),2)),i=(o[0],o[1]);(0,d.useEffect)((function(){i(r?C.Z(r,F):"")}),[r]);var a=(0,S.A)({showOutsideDays:!0,onDateSelected:function(e){var r=e.selectable,n=e.date;r&&(b()(n)||function(e){t(e),e&&i(C.Z(e,F))}(n))},selected:r});return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(W,O({},a))})};function U(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Z(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return U(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return U(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var J=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var r=(0,h.useRecoilValue)(m.z),t=(0,d.useState)([]),i=(t[0],t[1]);return(0,d.useEffect)((function(){console.log({dayEvents:r}),i(r)}),[r]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(o.kC,{h:"full",flexDir:"column",align:"center",pt:"2rem",px:"1rem",pb:"1rem",bgColor:"background.paper",boxShadow:"lg",children:[(0,n.jsx)(o.xv,{fontSize:"1.6rem",my:"1rem",children:"Calendar"}),(0,n.jsx)(o.kC,{width:"full",height:"fit-content",children:(0,n.jsx)(T,{isMenu:!0,onChange:function(){}})}),(0,n.jsxs)(o.kC,{w:"full",flexDir:"column",align:"center",children:[(0,n.jsx)(o.xv,{fontSize:"1.2rem",mt:"1rem",mb:"0.5rem",colorScheme:"text.primary",children:"Events"}),r&&r.length>0?(0,n.jsx)(o.kC,{as:v.Z,w:"full",height:"15rem",flexDir:"column",overflowY:"auto",children:r&&r.map((function(e,r){return console.log(e),(0,n.jsx)(q,{data:e},r)}))}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.sy,{size:["125","125","225","225"],text:"You have no events yet"})})]})]})})},q=function(e){var r=e.data,t=(0,l.XS)(null===r||void 0===r?void 0:r.type),a=t.color,u=void 0===a?"#D2369D":a,d=t.info,m=(0,i.pm)(),v=(0,s.useRouter)(),y=Z((0,h.useRecoilState)(p.FJ),2),x=(y[0],y[1]),g=Z((0,h.useRecoilState)(p.CG),2),b=(g[0],g[1]),j=function(){b(!1),x(-1)},w=c().duration(c()(null===r||void 0===r?void 0:r.end).diff(c()(null===r||void 0===r?void 0:r.start))).days(),S=w>0?1===w?w+" day":w+" days":"",C=c().duration(c()(null===r||void 0===r?void 0:r.end).diff(c()(null===r||void 0===r?void 0:r.start))).hours(),k=C>0?1===C?C+" hr":C+" hrs":"",z=c().duration(c()(null===r||void 0===r?void 0:r.end).diff(c()(null===r||void 0===r?void 0:r.start))).minutes(),A=z>0?1===z?z+" min":z+" mins":"";return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(o.kC,{w:"full",height:"4.5rem",my:"0.6rem",borderRadius:"6px",pos:"relative",cursor:"pointer",boxShadow:"lg",onClick:function(){var e;if(1!==(null===r||void 0===r?void 0:r.type)&&5!==(null===r||void 0===r?void 0:r.type)&&c()(null===r||void 0===r?void 0:r.start).diff(c()())>0)m({description:"Event has not started yet.",status:"info",duration:3e3}),j&&j();else if(null===r||void 0===r||null===(e=r.resource)||void 0===e?void 0:e.link){var t;v.push(null===r||void 0===r||null===(t=r.resource)||void 0===t?void 0:t.link),j&&j()}},children:[(0,n.jsxs)(o.kC,{borderLeftRadius:"6px",w:"4.5rem",minW:"4.5rem",h:"full",bgColor:u,flexDir:"column",align:"center",justify:"center",children:[(0,n.jsx)(f.vWP,{color:"white",size:24}),(0,n.jsx)(o.xv,{fontSize:"0.8rem",my:"0.2rem",color:"white",children:c()(null===r||void 0===r?void 0:r.start).format("LT")})]}),(0,n.jsxs)(o.kC,{justify:"center",flexGrow:1,w:"full",h:"full",flexDir:"column",p:"10px",borderRightRadius:"6px",borderWidth:"0.5px",borderColor:"brand.600",children:[(0,n.jsx)(o.kC,{fontSize:"0.7rem",width:"full",color:u,fontWeight:600,whiteSpace:"pre-wrap",noOfLines:2,children:null===r||void 0===r?void 0:r.title}),(0,n.jsxs)(o.xv,{fontSize:"0.625rem",children:["Duration:"," "+S+" "+k+" "+A]}),(0,n.jsx)(o.kC,{color:"white",fontSize:"0.8rem",fontWeight:500,px:"0.625rem",height:"1.2rem",pos:"absolute",top:-2,right:4,borderRadius:"0.25rem",bgColor:u,align:"center",justify:"center",isTruncated:!0,children:d})]})]})})}},82511:function(e,r,t){t.d(r,{O:function(){return d}});var n=t(34051),o=t.n(n),i=t(9669),a=t.n(i);function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function u(e,r,t,n,o,i,a){try{var l=e[i](a),u=l.value}catch(c){return void t(c)}l.done?r(u):Promise.resolve(u).then(n,o)}function c(e){return function(){var r=this,t=arguments;return new Promise((function(n,o){var i=e.apply(r,t);function a(e){u(i,n,o,a,l,"next",e)}function l(e){u(i,n,o,a,l,"throw",e)}a(void 0)}))}}function s(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(){var e=c(o().mark((function e(r){var t,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.queryKey,n=s(t,2),n[0],n[1].location,e.next=4,a().get("https://dataportalforcities.org/ocidi-places/autocomplete-cities-picker?q=new%20york");case 4:i=e.sent.data,console.log(i);case 6:case"end":return e.stop()}}),e)})))}();var d=function(){var e=c(o().mark((function e(r){var t,n,i,l,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.queryKey,n=s(t,2),n[0],i=n[1],l=i.startDate,u=i.endDate,e.next=4,a().get("/user/events?startDate=".concat(l,"&endDate=").concat(u));case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}}]);