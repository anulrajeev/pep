#include <iostream>
#include <queue>
using namespace std;

class MedianPriorityQueue {
public:
  priority_queue <int> left;
  priority_queue <int, vector<int>, greater<int>> right;

  void push(int val)
  {
    
    if(left.size()==0)
        left.push(val);
    else if(left.size()>right.size())
    {
        if(right.size()==0)
            {
                if(val>left.top())
                    right.push(val);
                else
                    {
                        right.push(left.top());
                        left.pop();
                        left.push(val);
                    }
            }
        else if(val>left.top())
            right.push(val);
        else
        {
            left.push(val);
            right.push(left.top());
            left.pop();
        }
    }
    else 
    {
        if(val<right.top())
            left.push(val);
        else
        {
            right.push(val);
            left.push(right.top());
            right.pop();
        }
    }
    
  }

  int pop() {
    if(left.size()==0 && right.size()==0)
        {
            cout<<"Underflow
";
            return -1;
        }
    else 
        {
            int ans=left.top();
            if(left.size()>right.size())
                left.pop();
            else
            {
                left.pop();
                left.push(right.top());
                right.pop();
            }
            return ans;
        }
  }

  int top() {
    if(left.size()==0 && right.size()==0)
        {
            cout<<"Underflow
";
            return -1;
        }
    else 
        return left.top();
  }

  int size() {
    return left.size()+right.size();
  }
};

int main() {
  MedianPriorityQueue pq;

  string str;
  cin >> str;
  while (str != "quit") {
    if (str == "add") {
      int val;
      cin >> val;
      pq.push(val);
    }
    else if (str == "remove") {
      int val = pq.pop();
      if (val != -1) {
        cout << val << endl;
      }
    }
    else if (str == "peek") {
      int val = pq.top();
      if (val != -1) {
        cout << val << endl;
      }
    }
    else if (str == "size") {
      cout << pq.size() << endl;
    }
    cin >> str;
  }

  return 0;
}